<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>River Log - Bec on the Road</title>
    <link rel="stylesheet" href="blog-style.css">
    <style>
        .river-log-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .stats-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 60px;
        }

        .stat-card {
            background: #fff;
            border: 4px solid #535353;
            padding: 30px 20px;
            text-align: center;
            transition: transform 0.2s;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 0 #535353;
        }

        .stat-number {
            font-family: 'Press Start 2P', monospace;
            font-size: clamp(12px, 3.5vw, 48px);
            color: #ff6b6b;
            margin-bottom: 10px;
            line-height: 1.2;
            white-space: nowrap;
        }

        .stat-label {
            font-family: 'Space Mono', monospace;
            font-size: 14px;
            color: #808080;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .trips-container {
            display: grid;
            gap: 20px;
        }

        .trip-card {
            background: #fff;
            border: 3px solid #535353;
            padding: 20px;
            display: grid;
            grid-template-columns: 120px 1fr auto;
            gap: 20px;
            align-items: center;
            transition: all 0.2s;
        }

        .trip-card:hover {
            transform: translateX(4px);
            box-shadow: -4px 4px 0 #535353;
        }

        .trip-date {
            font-family: 'Press Start 2P', monospace;
            font-size: 12px;
            color: #535353;
        }

        .trip-info h3 {
            font-family: 'Press Start 2P', monospace;
            font-size: 16px;
            margin-bottom: 8px;
            color: #535353;
        }

        .trip-info p {
            font-family: 'Space Mono', monospace;
            font-size: 14px;
            color: #808080;
            margin: 0;
        }

        .trip-meta {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .trip-miles {
            font-family: 'Press Start 2P', monospace;
            font-size: 20px;
            color: #ff6b6b;
        }

        .trip-rating {
            font-family: 'Space Mono', monospace;
            padding: 6px 12px;
            background: #535353;
            color: #fff;
            font-size: 12px;
            font-weight: bold;
        }

        .trip-type {
            font-family: 'Space Mono', monospace;
            padding: 6px 12px;
            background: #f0f0f0;
            color: #535353;
            font-size: 12px;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .trip-card {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .stat-card {
                padding: 20px 10px;
            }

            .trip-meta {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <nav>
        <a href="index.html" class="home-link">← Back to Blog</a>
    </nav>
    
    <header>
        <h1>River Log</h1>
        <p class="tagline">Every river mile, flip, and swim</p>
    </header>
    
    <div class="river-log-container">
        <div class="stats-dashboard">
            <div class="stat-card">
                <div class="stat-number" id="total-miles">1,401</div>
                <div class="stat-label">Total Miles</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="total-trips">151</div>
                <div class="stat-label">Total Trips</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="unique-rivers">15</div>
                <div class="stat-label">Rivers</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="commercial-miles">394</div>
                <div class="stat-label">Commercial Miles</div>
            </div>
        </div>

        <div class="trips-container" id="trips-container">
            <!-- Trips will be loaded here by JavaScript -->
        </div>
    </div>
    
    <footer>
        <p>Built with ❤️ and pixel art</p>
    </footer>

    <script>
        // Load hardcoded data
        fetch('river-log-data.json')
            .then(response => response.json())
            .then(data => {
                renderTrips(data.trips);
                updateStats(data.stats);
            })
            .catch(error => {
                console.error('Error loading river log:', error);
            });

        function renderTrips(trips) {
            const container = document.getElementById('trips-container');
            container.innerHTML = '';
            
            trips.forEach(trip => {
                const card = document.createElement('div');
                card.className = 'trip-card';
                
                const milesDisplay = trip.miles ? `${trip.miles} mi` : '';
                const ratingDisplay = trip.rating ? `<span class="trip-rating">${trip.rating}</span>` : '';
                const typeDisplay = trip.trip_type ? `<span class="trip-type">${trip.trip_type}</span>` : '';
                
                card.innerHTML = `
                    <div class="trip-date">${trip.date}</div>
                    <div class="trip-info">
                        <h3>${trip.river}</h3>
                        <p>${trip.section || 'Full run'}${trip.flow ? ` • ${trip.flow}` : ''}</p>
                    </div>
                    <div class="trip-meta">
                        ${trip.miles ? `<div class="trip-miles">${milesDisplay}</div>` : ''}
                        ${ratingDisplay}
                        ${typeDisplay}
                    </div>
                `;
                
                container.appendChild(card);
            });
        }

        function updateStats(stats) {
            if (stats) {
                document.getElementById('total-miles').textContent = Math.round(stats.total_miles).toLocaleString();
                document.getElementById('total-trips').textContent = stats.total_trips;
                document.getElementById('unique-rivers').textContent = stats.unique_rivers;
                document.getElementById('commercial-miles').textContent = stats.commercial_miles;
            }
        }
    </script>
</body>
</html>